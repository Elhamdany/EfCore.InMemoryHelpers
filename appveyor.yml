image: Visual Studio 2017
version: 1.9.{build}

platform: Any CPU
configuration: Release

skip_commits:
  files:
    - test/*
    - '**/*.md'
    - '**/*.txt'
    - '.gitignore'
    - 'appveyor.yml'

dotnet_csproj:
  patch: true
  file: 'Directory.Build.props'
  version: '{version}'

before_build:
  - ps: dotnet restore

build:
  parallel: true
  project: EfCore.InMemoryHelpers.sln

deploy:
  provider: NuGet
  skip_symbols: false
  artifacts: nugets\**\*.nupkg
  on:
    branch: master

artifacts:
  - path: nugets\**\*.nupkg
